# Ruby on Rails 製 Web アプリケーションのセキュリティテストガイド

## これなに？

Ruby on Rails 製 Webアプリケーションのセキュリティテストをするためのガイドで、[railsgoat](https://github.com/OWASP/railsgoat) を題材に、セキュリティテストの考え方、実行方法、記録方法などをできる限り具体的に説明します。

ブラックボックステスト、ホワイトボックステスト、自動テスト、手動テスト、様々なテスト手法を組み合わせて脆弱性を発見し、プロダクトオーナーや開発チームに適切な判断をしてもらうためのレポートを作成します。

世の中すべての Rails アプリケーションが安全になりますように！このガイドがちょっとでもセキュリティテストの役にたったら嬉しいです。

## 対象読者

主に Ruby on Rails でプロダクト開発している組織の**セキュリティテスター**を想定していますが、セキュリティに関心がある**開発チーム**や**QAチーム**にとっても有用かもしれません。

前提知識・スキル

- 情報セキュリティに関する基本的な用語を知ってること
- 基本的なWebアプリケーションの脆弱性について知ってること
- Ruby on Rails のコードが読めること
- Linux のコマンドを叩けること

## 扱わないこと

- Rails の外のセキュリティ：例えば、Webサーバ、コンテナ、クラウド、ソースコード管理、鍵管理、など
- ツールの細かい解説：セットアップ手順など

## 使うツール

本ガイドではいくつかのツールを使ってテストする。ツール名と使用目的は下記の通り。

|ツール名|目的|
|:--|:--|
|Brakeman|Railsのソースコードを静的解析し、セキュリティ上問題がありそうなコードを検出|
|bundler-audit|使用しているGemの既知の脆弱性をリストアップ|
|CodeQL|Javascriptのソースコードを静的解析し、セキュリティ上問題がありそうなコードを検出|
|retire.js|使用しているJavascriptライブラリの既知の脆弱性をリストアップ|
|OWASP ZAP|Webページのアクセス制御の有効性を確認したり、自動テストを実行したり|
|Visual Studio Code|ソースコードのセキュリティレビュー（他のエディタでも可）|
|Excel Online (Free)|テストの記録や報告書として（他のスプレッドシートでも可）|

本ガイドには各種ツールのセットアップ手順は書かないので、下記URLを参照し、あらかじめインストールしておくことをお勧めします。

TBW：ツールインストールのいい感じのサイト。

## 注意事項

本ガイドは未完成で、常に改善を必要としています。お気づきの点があったらフィードバックください！

本ガイドは Windows 10 / WSL Ubuntu 18.04 で作成しているため、環境によってボタンの位置やコマンド・パラメータなど細かな差異がある可能性はありますが、テストの考え方はどの環境でも同じです。

## 目次

1. [セキュリティテストの計画と準備](1-0%20plan%20and%20prepare.md)
3. [ソフトウェアコンポジション解析 (SCA)：ライブラリの脆弱性](2-0%20sca.md)
4. [静的アプリケーションセキュリティテスト(SAST)：ソースコードの脆弱性](3-0%20sast%20source%20code.md)
5. [動的アプリケーションセキュリティテスト(DAST)](4-0%20dynamic%20testing.md)
6. [テスト結果報告書の作成](5-0%20reporting.md)
7. [参考情報](9-0%20references.md)

