## アクセス制御の確認

多くのWebサイトにはアクセス制御が実装されています。例えば：
- 限定公開記事は、特定の人しか閲覧できない
- アカウント情報は、自分のは見れるが他人のは見れない
- 管理者画面はID/パスワード認証だけでなく、接続元IPアドレスでも制限している
本節ではこのようなアクセス制御が適切に機能しているかをテストします。


ここでは手っ取り早く確認するために、OWASP ZAP の Fuzzer という機能を使います。

Fuzzer は Fuzzing というテストをするためのツールですが、ここではVerb/URLの一覧を入力値としてすべてのルーティングにアクセスするのに使います。アクセスした結果の応答コードを確認することで、アクセス制御状態をざっと把握できます。

### URLの準備

前節で準備したURL

```plain
GET http://127.0.0.1:3000/login
GET http://127.0.0.1:3000/signup
GET http://127.0.0.1:3000/logout
GET http://127.0.0.1:3000/forgot_password
POST http://127.0.0.1:3000/forgot_password
```

URL一覧が使えそうですが、Fuzzer が扱える形式に整形する必要があります。
パラメータ部分(:で始まる箇所)を置き換える必要があります。コントローラのアクションまで到達してくれさえすれば良いので、適当な値に置き換えればよいです。

- パスをURLにする
- パラメータを置き換える

```plain
GET	/sessions/:id/edit(.:format)
↓
GET	http://127.0.0.1:3000/sessions/1/edit
```

厳密にはパラメータの妥当性によってステータスコードが変わってしまうこともあるため、本当は実在する値を使うのが望ましいです。もし手間なく入手できるならそうしましょう。

### Fuzzer の準備

### Fuzzer の実行

### 検討事項

#### より厳密なアクセス制御のテスト

[Webアプリケーションのアクセス制御をテストする](https://qiita.com/takutoy/items/2c03426ecd2c459f1da3)